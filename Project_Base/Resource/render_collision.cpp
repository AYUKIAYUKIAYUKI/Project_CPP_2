//============================================================================
// 
// 判定表示 [render_collision.cpp]
// Author : 福田歩希
// 
//============================================================================

//****************************************************
// インクルードファイル
//****************************************************
#include "render_collision.h"
#include "renderer.h"
#include "object_X.h"

//****************************************************
// usingディレクティブ
//****************************************************
using namespace abbr;

//============================================================================
// 
// publicメンバ
// 
//============================================================================

//============================================================================
// 描画優先度指定コンストラクタ
//============================================================================
CRender_Collision::CRender_Collision(LAYER Priority) :
	CObject{ Priority },
	m_CenterSyncPos{ VEC3_INIT }
{
	// ワールド行列の初期化
	D3DXMatrixIdentity(&m_MtxWorld);
}

//============================================================================
// デストラクタ
//============================================================================
CRender_Collision::~CRender_Collision()
{

}

//============================================================================
// 初期設定
//============================================================================
HRESULT CRender_Collision::Init()
{
	/* オーバーライド用 */

	return S_OK;
}

//============================================================================
// 終了処理
//============================================================================
void CRender_Collision::Uninit()
{
	/* オーバーライド用 */
}

//============================================================================
// 更新処理
//============================================================================
void CRender_Collision::Update()
{
	// ワールド行列の設定
	SetMtxWorld();
}

//============================================================================
// シンクロ中心点を設定
//============================================================================
void CRender_Collision::SetCenterSyncPos(D3DXVECTOR3 Pos)
{
	m_CenterSyncPos = Pos;
}

//============================================================================
// 
// privateメンバ
// 
//============================================================================

//============================================================================
// ワールド行列設定
//============================================================================
void CRender_Collision::SetMtxWorld()
{
	// 計算用行列
	D3DXMATRIX mtxTrans;

	// ワールド行列を初期化
	D3DXMatrixIdentity(&m_MtxWorld);

	// 平行移動行列作成
	D3DXMatrixTranslation(&mtxTrans,
		m_CenterSyncPos.x,
		m_CenterSyncPos.y,
		m_CenterSyncPos.z);

	// 平行移動行列との掛け算
	D3DXMatrixMultiply(&m_MtxWorld,
		&m_MtxWorld,
		&mtxTrans);
}