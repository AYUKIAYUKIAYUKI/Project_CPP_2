//============================================================================
//
// フィールドタイプ [field_type.cpp]
// Author : 福田歩希
//
//===========================================================================

//****************************************************
// インクルードファイル
//****************************************************
#include "field_type.h"
#include "X_manager.h"

//****************************************************
// usingディレクティブ
//****************************************************
using namespace abbr;

//****************************************************
// 静的メンバ変数の初期化
//****************************************************
D3DXVECTOR3 CField_Type::BLOCK_RANGE = { VEC3_INIT };

//============================================================================
// 
// publicメンバ
// 
//============================================================================

//============================================================================
// コンストラクタ
//============================================================================
CField_Type::CField_Type()
{
	// ブロックの占有範囲を作成
	if (BLOCK_RANGE == VEC3_INIT)
	{
		BLOCK_RANGE = CField_Type::SetBlockRange();
	}
}

//============================================================================
// デストラクタ
//============================================================================
CField_Type::~CField_Type()
{

}

//============================================================================
// 占有範囲の大きさを取得
//============================================================================
float CField_Type::GetAreaNorm()
{
	return (BLOCK_RANGE.x * BLOCK_RANGE.x + BLOCK_RANGE.y * BLOCK_RANGE.y + BLOCK_RANGE.z * BLOCK_RANGE.z);
}

//============================================================================
// 
// privateメンバ
// 
//============================================================================

//============================================================================
// ブロック占有範囲を設定
//============================================================================
D3DXVECTOR3 CField_Type::SetBlockRange()
{
	D3DXVECTOR3 Area = { 0.0f, 0.0f, 0.0f };
	CX_Manager::MODEL* pModel = nullptr;

	pModel = CX_Manager::GetInstance()->GetModel(CX_Manager::TYPE::BLOSIDE);
	Area.x = pModel->Size.x;
	Area.z = pModel->Size.x;
	pModel = CX_Manager::GetInstance()->GetModel(CX_Manager::TYPE::BLOTALL);
	Area.y = pModel->Size.y;

	return Area;
}